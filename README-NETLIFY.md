# Настройка админки на Netlify

## Как это работает

Админка использует Netlify Functions для сохранения и загрузки данных. Все данные хранятся в файловой системе сервера Netlify в директории `/tmp/data`.

## Деплой на Netlify

1. Залейте код на GitHub
2. Подключите репозиторий к Netlify
3. Укажите следующие настройки сборки:
   - Build command: `npm run build` (или оставьте пустым)
   - Publish directory: `.` (корневая директория)
   - Functions directory: `netlify/functions`

## Локальное тестирование

1. Установите зависимости:
   ```
   npm install
   ```

2. Инициализируйте данные:
   ```
   npm run init-data
   ```

3. Запустите локальный сервер:
   ```
   npm start
   ```

4. Откройте в браузере: http://localhost:8000/admin/login.html

## Как использовать админку

1. Перейдите на страницу `/admin/login.html`
2. Введите логин: `admin` и пароль: `59847216`
3. Внесите изменения в данные
4. Нажмите кнопку "Сохранить" в каждой секции
5. Обновите основную страницу сайта чтобы увидеть изменения

## Особенности

- Данные сохраняются между перезагрузками сервера
- При первом запуске автоматически создаются файлы данных из директории `data`
- Все изменения сохраняются в формате JSON

## Ограничения

- Максимальный размер хранилища ограничен квотами Netlify
- При большом количестве изменений может потребоваться пересборка сайта
- Не рекомендуется для production использования без дополнительных мер безопасности

## Безопасность

Для production использования рекомендуется:
1. Добавить аутентификацию через Netlify Identity
2. Ограничить доступ к админке через netlify.toml
3. Добавить валидацию данных на сервере

## Устранение неполадок

### Проблема: Изменения не сохраняются
Решение: Убедитесь что вы нажимаете кнопку "Сохранить" после внесения изменений.

### Проблема: Файлы скачиваются вместо сохранения
Решение: Это нормальное поведение для локальной версии. На Netlify изменения сохраняются автоматически.

### Проблема: Данные не отображаются на сайте
Решение: Убедитесь что вы обновили страницу сайта после сохранения изменений.